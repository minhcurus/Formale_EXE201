# ğŸ‘” Formale - AI-Powered Fashion E-commerce Platform

<div align="center">

![.NET](https://img.shields.io/badge/.NET-8.0-512BD4?style=for-the-badge&logo=dotnet&logoColor=white)
![SQL Server](https://img.shields.io/badge/SQL%20Server-CC2927?style=for-the-badge&logo=microsoft%20sql%20server&logoColor=white)
![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=black)
![JWT](https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white)

**Formale** lÃ  ná»n táº£ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ thá»i trang káº¿t há»£p trÃ­ tuá»‡ nhÃ¢n táº¡o (AI) Ä‘á»ƒ gá»£i Ã½ trang phá»¥c phÃ¹ há»£p vá»›i phong cÃ¡ch ngÆ°á»i dÃ¹ng.

[TÃ­nh nÄƒng](#-tÃ­nh-nÄƒng-chÃ­nh) â€¢
[CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t) â€¢
[API Endpoints](#-api-endpoints) â€¢
[Kiáº¿n trÃºc](#-kiáº¿n-trÃºc-há»‡-thá»‘ng) â€¢
[ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)

</div>

---

## ğŸ“‹ Má»¥c lá»¥c

- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [Kiáº¿n trÃºc há»‡ thá»‘ng](#-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [Cáº¥u trÃºc dá»± Ã¡n](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [CÆ¡ sá»Ÿ dá»¯ liá»‡u](#-cÆ¡-sá»Ÿ-dá»¯-liá»‡u)
- [CÃ i Ä‘áº·t](#-cÃ i-Ä‘áº·t)
- [Cáº¥u hÃ¬nh](#-cáº¥u-hÃ¬nh)
- [API Endpoints](#-api-endpoints)
- [XÃ¡c thá»±c & PhÃ¢n quyá»n](#-xÃ¡c-thá»±c--phÃ¢n-quyá»n)
- [TÃ­ch há»£p AI](#-tÃ­ch-há»£p-ai)
- [Thanh toÃ¡n](#-thanh-toÃ¡n)
- [ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ›ï¸ **ThÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­**
- Quáº£n lÃ½ sáº£n pháº©m thá»i trang (quáº§n Ã¡o, giÃ y dÃ©p, phá»¥ kiá»‡n)
- Giá» hÃ ng vÃ  Ä‘áº·t hÃ ng trá»±c tuyáº¿n
- Thanh toÃ¡n tÃ­ch há»£p PayOS
- ÄÃ¡nh giÃ¡ vÃ  pháº£n há»“i sáº£n pháº©m

### ğŸ¤– **Gá»£i Ã½ trang phá»¥c báº±ng AI**
- PhÃ¢n tÃ­ch phong cÃ¡ch tá»« mÃ´ táº£ ngÃ´n ngá»¯ tá»± nhiÃªn
- Tá»± Ä‘á»™ng gá»£i Ã½ bá»™ trang phá»¥c phÃ¹ há»£p (Tops + Bottoms + Footwear + Accessories)
- Káº¿t há»£p sáº£n pháº©m tá»« tá»§ Ä‘á»“ cÃ¡ nhÃ¢n vÃ  há»‡ thá»‘ng
- LÆ°u vÃ  quáº£n lÃ½ cÃ¡c bá»™ combo trang phá»¥c

### ğŸ‘¤ **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng**
- ÄÄƒng kÃ½ vá»›i xÃ¡c thá»±c OTP qua email
- ÄÄƒng nháº­p báº±ng tÃ i khoáº£n hoáº·c Google OAuth 2.0
- Há»‡ thá»‘ng phÃ¢n quyá»n (Admin, User, Manager)
- GÃ³i Premium vá»›i cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao

### ğŸ“¦ **Tá»§ Ä‘á»“ cÃ¡ nhÃ¢n (Virtual Closet)**
- LÆ°u trá»¯ sáº£n pháº©m yÃªu thÃ­ch
- Quáº£n lÃ½ cÃ¡c bá»™ outfit Ä‘Ã£ táº¡o
- TÃ¬m kiáº¿m vÃ  lá»c sáº£n pháº©m trong tá»§ Ä‘á»“

---

## ğŸ›  CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend Framework
| CÃ´ng nghá»‡ | PhiÃªn báº£n | MÃ´ táº£ |
|-----------|-----------|-------|
| **.NET** | 8.0 | Framework chÃ­nh |
| **Entity Framework Core** | 9.0 | ORM cho cÆ¡ sá»Ÿ dá»¯ liá»‡u |
| **SQL Server** | - | CÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ |

### Authentication & Security
| CÃ´ng nghá»‡ | MÃ´ táº£ |
|-----------|-------|
| **JWT Bearer** | Token-based authentication |
| **Google OAuth 2.0** | Social login |
| **OTP via Email** | XÃ¡c thá»±c tÃ i khoáº£n |

### TÃ­ch há»£p bÃªn thá»© ba
| Dá»‹ch vá»¥ | MÃ´ táº£ |
|---------|-------|
| **PayOS** | Cá»•ng thanh toÃ¡n Viá»‡t Nam |
| **Cloudinary** | LÆ°u trá»¯ vÃ  quáº£n lÃ½ hÃ¬nh áº£nh |
| **OpenRouter AI** | Gá»£i Ã½ trang phá»¥c báº±ng AI (DeepSeek model) |
| **SMTP (MimeKit)** | Gá»­i email xÃ¡c thá»±c |

### ThÆ° viá»‡n há»— trá»£
| ThÆ° viá»‡n | PhiÃªn báº£n | MÃ´ táº£ |
|----------|-----------|-------|
| **AutoMapper** | 14.0 | Object mapping |
| **FluentValidation** | 12.0 | Data validation |
| **Swashbuckle** | 6.6.2 | Swagger/OpenAPI |
| **RestSharp** | 112.1 | HTTP client |
| **Google.Apis.Auth** | 1.69 | Google authentication |

---

## ğŸ— Kiáº¿n trÃºc há»‡ thá»‘ng

Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng theo **Clean Architecture** vá»›i 4 layers:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRESENTATION LAYER                     â”‚
â”‚                          (API)                              â”‚
â”‚   Controllers â”‚ AutoMapper â”‚ Swagger â”‚ Middleware          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      APPLICATION LAYER                      â”‚
â”‚                      (Application)                          â”‚
â”‚   Services â”‚ DTOs â”‚ Interfaces â”‚ Validation â”‚ Settings     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      INFRASTRUCTURE LAYER                   â”‚
â”‚                      (Infrastructure)                       â”‚
â”‚   DbContext â”‚ Repositories â”‚ Migrations â”‚ External APIs    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        DOMAIN LAYER                         â”‚
â”‚                         (Domain)                            â”‚
â”‚   Entities â”‚ Enums â”‚ Base Classes â”‚ Business Rules         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Luá»“ng dá»¯ liá»‡u

```
Client Request â†’ Controller â†’ Service â†’ Repository â†’ Database
                    â†“            â†“
               Validation    Business Logic
                    â†“            â†“
              DTO Mapping   Entity Mapping
```

---

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
Formale_EXE201/
â”œâ”€â”€ ğŸ“‚ API/                          # Presentation Layer
â”‚   â”œâ”€â”€ Controllers/                 # REST API Controllers
â”‚   â”‚   â”œâ”€â”€ AuthController.cs        # XÃ¡c thá»±c
â”‚   â”‚   â”œâ”€â”€ ProductController.cs     # Sáº£n pháº©m
â”‚   â”‚   â”œâ”€â”€ CartController.cs        # Giá» hÃ ng
â”‚   â”‚   â”œâ”€â”€ OrderController.cs       # ÄÆ¡n hÃ ng
â”‚   â”‚   â”œâ”€â”€ PaymentController.cs     # Thanh toÃ¡n
â”‚   â”‚   â”œâ”€â”€ OutfitController.cs      # Gá»£i Ã½ trang phá»¥c AI
â”‚   â”‚   â”œâ”€â”€ UserClosetController.cs  # Tá»§ Ä‘á»“ cÃ¡ nhÃ¢n
â”‚   â”‚   â”œâ”€â”€ FeedbackController.cs    # ÄÃ¡nh giÃ¡
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Mapper/
â”‚   â”‚   â””â”€â”€ AutoMapperProfile.cs     # Cáº¥u hÃ¬nh AutoMapper
â”‚   â”œâ”€â”€ Properties/
â”‚   â”‚   â””â”€â”€ launchSettings.json
â”‚   â”œâ”€â”€ Program.cs                   # Application entry point
â”‚   â””â”€â”€ API.csproj
â”‚
â”œâ”€â”€ ğŸ“‚ Application/                   # Application Layer
â”‚   â”œâ”€â”€ DTO/                         # Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ LoginDTO.cs
â”‚   â”‚   â”œâ”€â”€ RegisterDTO.cs
â”‚   â”‚   â”œâ”€â”€ ProductRequestDto.cs
â”‚   â”‚   â”œâ”€â”€ ProductResponseDto.cs
â”‚   â”‚   â”œâ”€â”€ OutfitSuggestionDto.cs
â”‚   â”‚   â”œâ”€â”€ PaymentDTO.cs
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Interface/                   # Service Interfaces
â”‚   â”‚   â”œâ”€â”€ IProductService.cs
â”‚   â”‚   â”œâ”€â”€ IOutfitService.cs
â”‚   â”‚   â”œâ”€â”€ IPaymentService.cs
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Service/                     # Service Implementations
â”‚   â”‚   â”œâ”€â”€ ProductService.cs
â”‚   â”‚   â”œâ”€â”€ OutfitService.cs
â”‚   â”‚   â”œâ”€â”€ OpenRouterService.cs     # AI Integration
â”‚   â”‚   â”œâ”€â”€ PaymentService.cs
â”‚   â”‚   â”œâ”€â”€ PayOsService.cs
â”‚   â”‚   â”œâ”€â”€ CloudinaryService.cs
â”‚   â”‚   â”œâ”€â”€ EmailService.cs
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Settings/                    # Configuration classes
â”‚   â”‚   â”œâ”€â”€ JwtSetting.cs
â”‚   â”‚   â”œâ”€â”€ EmailSettings.cs
â”‚   â”‚   â”œâ”€â”€ PayOsSetting.cs
â”‚   â”‚   â””â”€â”€ GoogleSetting.cs
â”‚   â”œâ”€â”€ Validation/                  # FluentValidation rules
â”‚   â””â”€â”€ Application.csproj
â”‚
â”œâ”€â”€ ğŸ“‚ Domain/                        # Domain Layer
â”‚   â”œâ”€â”€ Entities/                    # Domain Entities
â”‚   â”‚   â”œâ”€â”€ UserAccount.cs
â”‚   â”‚   â”œâ”€â”€ Product.cs
â”‚   â”‚   â”œâ”€â”€ Order.cs
â”‚   â”‚   â”œâ”€â”€ Payment.cs
â”‚   â”‚   â”œâ”€â”€ OutfitCombo.cs
â”‚   â”‚   â”œâ”€â”€ UserCloset.cs
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Enum/                        # Enumerations
â”‚   â”‚   â”œâ”€â”€ Status.cs
â”‚   â”‚   â”œâ”€â”€ PaymentMethod.cs
â”‚   â”‚   â””â”€â”€ PremiumPackageTier.cs
â”‚   â”œâ”€â”€ Base/                        # Base classes
â”‚   â””â”€â”€ Domain.csproj
â”‚
â”œâ”€â”€ ğŸ“‚ Infrastructure/                # Infrastructure Layer
â”‚   â”œâ”€â”€ Repository/                  # Data Access
â”‚   â”‚   â”œâ”€â”€ UserRepository.cs
â”‚   â”‚   â”œâ”€â”€ ProductRepository.cs
â”‚   â”‚   â”œâ”€â”€ OrderRepository.cs
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Base/                        # Generic Repository
â”‚   â”œâ”€â”€ migrations/                  # EF Core Migrations
â”‚   â”œâ”€â”€ AppDBContext.cs              # Database Context
â”‚   â””â”€â”€ Infrastructure.csproj
â”‚
â”œâ”€â”€ Formale_EXE201.sln               # Solution file
â””â”€â”€ README.md
```

---

## ğŸ—„ CÆ¡ sá»Ÿ dá»¯ liá»‡u

### Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UserAccount    â”‚       â”‚     Product      â”‚       â”‚      Order       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UserId (PK)      â”‚       â”‚ ProductId (PK)   â”‚       â”‚ OrderId (PK)     â”‚
â”‚ FullName         â”‚       â”‚ Name             â”‚       â”‚ UserId (FK)      â”‚
â”‚ Email            â”‚       â”‚ Price            â”‚       â”‚ TotalPrice       â”‚
â”‚ Password         â”‚       â”‚ BrandId (FK)     â”‚       â”‚ Status           â”‚
â”‚ RoleId (FK)      â”‚       â”‚ ColorId (FK)     â”‚       â”‚ CreatedAt        â”‚
â”‚ PremiumPackageId â”‚       â”‚ StyleId (FK)     â”‚       â”‚ UpdatedAt        â”‚
â”‚ IsActive         â”‚       â”‚ CategoryId (FK)  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Status           â”‚       â”‚ MaterialId (FK)  â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ TypeId (FK)      â”‚                â”‚
         â”‚                 â”‚ ImageURL         â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚ IsSystemCreated  â”‚       â”‚    OrderItem     â”‚
         â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                          â”‚                 â”‚ OrderItemId (PK) â”‚
         â”‚                          â”‚                 â”‚ OrderId (FK)     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ ProductId (FK)   â”‚
â”‚    UserCloset    â”‚       â”‚     Feedback     â”‚       â”‚ Quantity         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚ Price            â”‚
â”‚ ClosetId (PK)    â”‚       â”‚ FeedbackId (PK)  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ UserId (FK)      â”‚       â”‚ UserId (FK)      â”‚
â”‚ ProductId (FK)   â”‚       â”‚ ProductId (FK)   â”‚
â”‚ ComboId (FK)     â”‚       â”‚ Rating           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ Comment          â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   OutfitCombo    â”‚       â”‚ OutfitComboItem  â”‚       â”‚     Payment      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ComboId (PK)     â”‚â”€â”€â”€â”   â”‚ ItemId (PK)      â”‚       â”‚ Id (PK)          â”‚
â”‚ Name             â”‚   â”‚   â”‚ ComboId (FK)     â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ UserId (FK)      â”‚
â”‚ Description      â”‚   â””â”€â”€â–¶â”‚ ProductId (FK)   â”‚       â”‚ OrderId (FK)     â”‚
â”‚ UserId (FK)      â”‚       â”‚ Slot             â”‚       â”‚ OrderCode        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ Amount           â”‚
                                                      â”‚ Status           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ PaymentUrl       â”‚
â”‚  PremiumPackage  â”‚       â”‚      Roles       â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PackageId (PK)   â”‚       â”‚ RoleId (PK)      â”‚
â”‚ Name             â”‚       â”‚ RoleName         â”‚
â”‚ Price            â”‚       â”‚ â€¢ Admin (1)      â”‚
â”‚ DurationInDays   â”‚       â”‚ â€¢ User (2)       â”‚
â”‚ Tier             â”‚       â”‚ â€¢ Manager (3)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ¡c Entity chÃ­nh

#### ğŸ‘¤ **UserAccount**
```csharp
- UserId, FullName, Email, UserName, Password
- PhoneNumber, Address, DateOfBirth
- RoleId, PremiumPackageId, PremiumExpiryDate
- Token, OTP, OtpExpiry
- IsActive, Status, LoginProvider
- Image_User, Background_Image, Description
```

#### ğŸ‘• **Product**
```csharp
- ProductId, Name, Price, Description, ImageURL
- BrandId, ColorId, StyleId, CategoryId, MaterialId, TypeId
- IsSystemCreated, UserId
- TotalFeedbacks, AverageRating
- IsDeleted, CreatedAt, UpdatedAt (tá»« BaseEntity)
```

#### ğŸ›’ **Order & OrderItem**
```csharp
Order:
- OrderId, UserId, TotalPrice, Status
- PaidAt, CreatedAt, UpdatedAt

OrderItem:
- OrderItemId, OrderId, ProductId
- Quantity, Price
```

#### ğŸ’³ **Payment**
```csharp
- Id, UserId, OrderId, PremiumPackageId
- OrderCode, Amount, Description
- BuyerName, BuyerEmail, BuyerPhone, BuyerAddress
- PaymentUrl, CheckoutUrl, TransactionId
- Status, Method, Signature
- CancelUrl, ReturnUrl, CancelReason
```

#### ğŸ‘” **OutfitCombo & OutfitComboItem**
```csharp
OutfitCombo:
- ComboId, Name, Description, UserId

OutfitComboItem:
- ItemId, ComboId, ProductId, Slot
```

### Enums

```csharp
// Status (Order/Payment)
enum Status { PENDING, COMPLETE, FAILED, CANCELLED }

// PaymentMethod
enum PaymentMethod { VNPAY, MOMO, PayOs }

// PremiumPackageTier
enum PremiumPackageTier { Premium, Gold }
```

---

## ğŸš€ CÃ i Ä‘áº·t

### YÃªu cáº§u há»‡ thá»‘ng
- **.NET SDK** 8.0 trá»Ÿ lÃªn
- **SQL Server** 2019 trá»Ÿ lÃªn
- **Visual Studio 2022** hoáº·c **VS Code**
- **Git**

### BÆ°á»›c 1: Clone repository
```bash
git clone https://github.com/your-username/Formale_EXE201.git
cd Formale_EXE201
```

### BÆ°á»›c 2: Restore packages
```bash
dotnet restore
```

### BÆ°á»›c 3: Cáº¥u hÃ¬nh appsettings.json
Táº¡o file `appsettings.json` trong thÆ° má»¥c `API/` (xem pháº§n [Cáº¥u hÃ¬nh](#-cáº¥u-hÃ¬nh))

### BÆ°á»›c 4: Ãp dá»¥ng migrations
```bash
cd API
dotnet ef database update --project ../Infrastructure
```

### BÆ°á»›c 5: Cháº¡y á»©ng dá»¥ng
```bash
dotnet run --project API
```

### BÆ°á»›c 6: Truy cáº­p Swagger
Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p:
```
https://localhost:5001/swagger
```

---

## âš™ Cáº¥u hÃ¬nh

Táº¡o file `appsettings.json` trong thÆ° má»¥c `API/`:

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=FormaleDB;Trusted_Connection=True;TrustServerCertificate=True;"
  },
  
  "JwtSettings": {
    "Issuer": "FormaleAPI",
    "Audience": "FormaleClient",
    "SecretKey": "YOUR_SUPER_SECRET_KEY_AT_LEAST_32_CHARACTERS_LONG",
    "ExpiryInMinutes": 60
  },
  
  "EmailSettings": {
    "SmtpHost": "smtp.gmail.com",
    "SmtpPort": 587,
    "SmtpUser": "your-email@gmail.com",
    "SmtpPass": "your-app-password"
  },
  
  "PayOsConfig": {
    "BaseUrl": "https://api-merchant.payos.vn",
    "ClientId": "YOUR_PAYOS_CLIENT_ID",
    "ApiKey": "YOUR_PAYOS_API_KEY",
    "ChecksumKey": "YOUR_PAYOS_CHECKSUM_KEY"
  },
  
  "GoogleSetting": {
    "ClientId": "YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com",
    "ClientSecret": "YOUR_GOOGLE_CLIENT_SECRET"
  },
  
  "OpenRouter": {
    "ApiKey": "YOUR_OPENROUTER_API_KEY"
  },
  
  "Cloudinary": {
    "CloudName": "YOUR_CLOUDINARY_CLOUD_NAME",
    "ApiKey": "YOUR_CLOUDINARY_API_KEY",
    "ApiSecret": "YOUR_CLOUDINARY_API_SECRET"
  }
}
```

### HÆ°á»›ng dáº«n láº¥y credentials

| Dá»‹ch vá»¥ | HÆ°á»›ng dáº«n |
|---------|-----------|
| **PayOS** | ÄÄƒng kÃ½ táº¡i [payos.vn](https://payos.vn) |
| **Google OAuth** | Táº¡o project táº¡i [Google Cloud Console](https://console.cloud.google.com) |
| **OpenRouter** | ÄÄƒng kÃ½ táº¡i [openrouter.ai](https://openrouter.ai) |
| **Cloudinary** | ÄÄƒng kÃ½ táº¡i [cloudinary.com](https://cloudinary.com) |
| **Gmail SMTP** | Táº¡o App Password trong Google Account Settings |

---

## ğŸ“¡ API Endpoints

### ğŸ” Authentication (`/api/Auth`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `POST` | `/register` | ÄÄƒng kÃ½ tÃ i khoáº£n má»›i | âŒ |
| `POST` | `/register-manager` | Táº¡o tÃ i khoáº£n Manager | Admin |
| `POST` | `/login` | ÄÄƒng nháº­p | âŒ |
| `POST` | `/change-password` | Äá»•i máº­t kháº©u (cáº§n OTP) | âœ… |
| `POST` | `/logout` | ÄÄƒng xuáº¥t | âœ… |
| `POST` | `/active-account` | KÃ­ch hoáº¡t tÃ i khoáº£n báº±ng OTP | âŒ |
| `POST` | `/resend-otp` | Gá»­i láº¡i mÃ£ OTP | âŒ |
| `GET` | `/signin-google` | ÄÄƒng nháº­p báº±ng Google | âŒ |

### ğŸ‘¥ Users (`/api/User`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/` | Láº¥y danh sÃ¡ch users | Admin |
| `GET` | `/get-user-info` | Láº¥y thÃ´ng tin user hiá»‡n táº¡i | âœ… |
| `PUT` | `/update-profile` | Cáº­p nháº­t profile | User |
| `DELETE` | `/{userId}` | XÃ³a user | Admin |
| `POST` | `/ban/{userId}` | Ban user | Admin |
| `POST` | `/unban/{userId}` | Unban user | Admin |

### ğŸ‘• Products (`/api/Product`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/` | Láº¥y táº¥t cáº£ sáº£n pháº©m | âŒ |
| `GET` | `/{id}` | Láº¥y sáº£n pháº©m theo ID | âŒ |
| `POST` | `/` | Táº¡o sáº£n pháº©m má»›i | âœ… |
| `PUT` | `/{id}` | Cáº­p nháº­t sáº£n pháº©m | âœ… |
| `PUT` | `/update-image/{id}` | Cáº­p nháº­t áº£nh sáº£n pháº©m | âœ… |
| `DELETE` | `/{id}` | XÃ³a sáº£n pháº©m (soft delete) | Admin |
| `GET` | `/search` | TÃ¬m kiáº¿m vá»›i filter & phÃ¢n trang | âŒ |
| `POST` | `/suggest` | Gá»£i Ã½ trang phá»¥c AI | Premium |

### ğŸ›’ Cart (`/api/Cart`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/` | Láº¥y giá» hÃ ng hiá»‡n táº¡i | âœ… |
| `POST` | `/add-item/{productId}` | ThÃªm sáº£n pháº©m vÃ o giá» | âœ… |
| `POST` | `/reduce-item/{productId}` | Giáº£m sá»‘ lÆ°á»£ng sáº£n pháº©m | âœ… |
| `GET` | `/preview` | Xem trÆ°á»›c Ä‘Æ¡n hÃ ng | âœ… |
| `DELETE` | `/remove-item/{productId}` | XÃ³a sáº£n pháº©m khá»i giá» | âœ… |

### ğŸ“¦ Orders (`/api/Order`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `POST` | `/create-from-cart` | Táº¡o Ä‘Æ¡n hÃ ng tá»« giá» hÃ ng | âœ… |
| `GET` | `/all` | Láº¥y táº¥t cáº£ Ä‘Æ¡n hÃ ng | Admin |
| `GET` | `/{orderId}` | Láº¥y Ä‘Æ¡n hÃ ng theo ID | Admin |

### ğŸ’³ Payments (`/api/Payment`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/getpayment` | Láº¥y táº¥t cáº£ payments | Admin |
| `GET` | `/getpayment-byuser` | Láº¥y payments cá»§a user | âœ… |
| `POST` | `/create` | Táº¡o payment má»›i | âœ… |
| `POST` | `/search-transaction` | TÃ¬m theo transaction ID | âœ… |
| `POST` | `/cancel` | Há»§y payment | âœ… |
| `PUT` | `/update-status/{paymentId}` | Cáº­p nháº­t tráº¡ng thÃ¡i | Admin |
| `GET` | `/check-status/{orderCode}` | Kiá»ƒm tra tráº¡ng thÃ¡i PayOS | âœ… |
| `GET` | `/premium-payments` | Payments gÃ³i Premium | Admin |
| `POST` | `/confirm-premium-payment` | XÃ¡c nháº­n thanh toÃ¡n Premium | Admin |

### ğŸ‘” Outfit - AI Suggestion (`/api/Outfit`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `POST` | `/suggest` | Gá»£i Ã½ outfit tá»« closet | Premium |
| `POST` | `/save` | LÆ°u combo gá»£i Ã½ | âœ… |
| `GET` | `/{comboId}` | Láº¥y chi tiáº¿t combo | âœ… |
| `PUT` | `/{comboId}/replace-item` | Thay tháº¿ item trong combo | âœ… |
| `GET` | `/user-combos` | Láº¥y danh sÃ¡ch combos cá»§a user | âœ… |
| `PUT` | `/update-combo-info` | Cáº­p nháº­t tÃªn/mÃ´ táº£ combo | âœ… |

### ğŸ—„ï¸ User Closet (`/api/UserCloset`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/` | Láº¥y táº¥t cáº£ closets | Admin |
| `GET` | `/{closetId}` | Láº¥y closet theo ID | User |
| `DELETE` | `/{closetId}` | XÃ³a item khá»i closet | User |
| `GET` | `/my-closet` | Láº¥y closet cá»§a user | âœ… |
| `GET` | `/my-items` | Láº¥y sáº£n pháº©m trong closet | âœ… |
| `GET` | `/my-combos` | Láº¥y outfit combos | âœ… |
| `GET` | `/search` | TÃ¬m kiáº¿m trong closet | âœ… |

### â­ Feedback (`/api/Feedback`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `POST` | `/create` | Táº¡o Ä‘Ã¡nh giÃ¡ má»›i | âœ… |
| `PUT` | `/update` | Cáº­p nháº­t Ä‘Ã¡nh giÃ¡ | âœ… |
| `GET` | `/rating/{productId}` | Láº¥y thá»‘ng kÃª rating | âŒ |
| `GET` | `/` | Láº¥y feedbacks cá»§a sáº£n pháº©m | âŒ |
| `GET` | `/user-feedbacks` | Láº¥y feedbacks cá»§a user | âœ… |
| `DELETE` | `/{feedbackId}` | XÃ³a feedback | Admin |
| `GET` | `/all` | Láº¥y táº¥t cáº£ feedbacks | Admin |

### ğŸ’ Premium Packages (`/api/PremiunPackage`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/` | Láº¥y danh sÃ¡ch packages | âŒ |
| `POST` | `/{packageId}` | Láº¥y package theo ID | âŒ |
| `POST` | `/update/{packageId}` | Cáº­p nháº­t package | Admin |
| `POST` | `/buy` | Mua gÃ³i Premium | âœ… |
| `POST` | `/update-premium` | GÃ¡n Premium cho user | Admin |

### ğŸ“Š Analytics (`/api/Log`)

| Method | Endpoint | MÃ´ táº£ | Auth |
|--------|----------|-------|------|
| `GET` | `/all` | Láº¥y táº¥t cáº£ lÆ°á»£t truy cáº­p | Admin |
| `GET` | `/today` | LÆ°á»£t truy cáº­p hÃ´m nay | Admin |
| `GET` | `/{date}` | LÆ°á»£t truy cáº­p theo ngÃ y | Admin |
| `GET` | `/registrations-this-month` | Sá»‘ Ä‘Äƒng kÃ½ trong thÃ¡ng | Admin |

### ğŸ·ï¸ Product Attributes

Má»—i attribute Ä‘á»u cÃ³ CRUD endpoints:

| Controller | Endpoint Base |
|------------|---------------|
| ProductBrand | `/api/ProductBrand` |
| ProductCategory | `/api/ProductCategory` |
| ProductColor | `/api/ProductColor` |
| ProductMaterial | `/api/ProductMaterial` |
| ProductStyle | `/api/ProductStyle` |
| ProductType | `/api/ProductType` |

---

## ğŸ” XÃ¡c thá»±c & PhÃ¢n quyá»n

### JWT Authentication

```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Roles

| RoleId | Role Name | Quyá»n háº¡n |
|--------|-----------|-----------|
| 1 | **Admin** | ToÃ n quyá»n há»‡ thá»‘ng |
| 2 | **User** | Mua hÃ ng, Ä‘Ã¡nh giÃ¡, tá»§ Ä‘á»“ |
| 3 | **Manager** | Quáº£n lÃ½ sáº£n pháº©m, Ä‘Æ¡n hÃ ng |

### Luá»“ng xÃ¡c thá»±c

```
1. ÄÄƒng kÃ½ â†’ Gá»­i OTP qua email
2. XÃ¡c nháº­n OTP â†’ KÃ­ch hoáº¡t tÃ i khoáº£n
3. ÄÄƒng nháº­p â†’ Nháº­n JWT token
4. Request API â†’ Gá»­i Bearer token
5. Äá»•i máº­t kháº©u â†’ XÃ¡c nháº­n OTP má»›i
```

### Google OAuth Flow

```
1. Client redirect â†’ /api/Auth/signin-google
2. Google authentication
3. Callback vá»›i ID token
4. Server xÃ¡c thá»±c token
5. Táº¡o/cáº­p nháº­t user
6. Tráº£ vá» JWT token
```

---

## ğŸ¤– TÃ­ch há»£p AI

### Kiáº¿n trÃºc AI Outfit Suggestion

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     User Input                              â”‚
â”‚     "TÃ´i muá»‘n máº·c Ä‘á»“ Ä‘i dá»± tiá»‡c sang trá»ng"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OpenRouter Service                        â”‚
â”‚   Model: deepseek/deepseek-r1-0528-qwen3-8b:free           â”‚
â”‚   Task: Classify input â†’ Style (Formal, Casual, etc.)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼ Style: "Formal"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Outfit Service                           â”‚
â”‚   1. Láº¥y products tá»« User Closet theo Style                 â”‚
â”‚   2. Fallback: Láº¥y tá»« System Products náº¿u thiáº¿u             â”‚
â”‚   3. Táº¡o combo: Tops + Bottoms + Footwear + Accessories     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  OutfitSuggestionDto                        â”‚
â”‚   - Style: "Formal"                                         â”‚
â”‚   - ComboId: guid                                           â”‚
â”‚   - Tops: { ProductId, Name, Price, ImageURL, ... }        â”‚
â”‚   - Bottoms: { ... }                                        â”‚
â”‚   - Footwears: { ... }                                      â”‚
â”‚   - Accessories: { ... }                                    â”‚
â”‚   - MissingNotice: ["Missing Tops - Use Outfit System"]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ¡c Style há»— trá»£

| Style | MÃ´ táº£ |
|-------|-------|
| **Casual** | Trang phá»¥c thÆ°á»ng ngÃ y |
| **Formal** | Trang phá»¥c lá»‹ch sá»±, cÃ´ng sá»Ÿ |
| **Streetwear** | Phong cÃ¡ch Ä‘Æ°á»ng phá»‘ |
| **Sporty** | Trang phá»¥c thá»ƒ thao |
| **Vintage** | Phong cÃ¡ch cá»• Ä‘iá»ƒn |
| **Minimalist** | Tá»‘i giáº£n |
| **Bohemian** | Phong cÃ¡ch boho |

### Sá»­ dá»¥ng API

```http
POST /api/Outfit/suggest
Authorization: Bearer {token}
Content-Type: application/json

{
  "prompt": "TÃ´i muá»‘n máº·c Ä‘á»“ Ä‘i cafe vá»›i báº¡n bÃ¨ vÃ o cuá»‘i tuáº§n"
}
```

**Response:**
```json
{
  "style": "Casual",
  "comboId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "tops": {
    "productId": "...",
    "name": "T-Shirt Basic White",
    "price": 299000,
    "imageURL": "https://..."
  },
  "bottoms": { ... },
  "footwears": { ... },
  "accessories": { ... },
  "missingNotice": []
}
```

---

## ğŸ’³ Thanh toÃ¡n

### PayOS Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚ â”€â”€â–¶  â”‚  Formale    â”‚ â”€â”€â–¶  â”‚   PayOS     â”‚
â”‚             â”‚      â”‚    API      â”‚      â”‚    API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                    â”‚
       â”‚  1. Create Order   â”‚                    â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚
       â”‚                    â”‚  2. Create Payment â”‚
       â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                    â”‚                    â”‚
       â”‚                    â”‚  3. Checkout URL   â”‚
       â”‚                    â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚  4. Redirect URL   â”‚                    â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
       â”‚                    â”‚                    â”‚
       â”‚  5. Complete Payment on PayOS           â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                    â”‚                    â”‚
       â”‚                    â”‚  6. Webhook/Poll   â”‚
       â”‚                    â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                    â”‚                    â”‚
       â”‚  7. Order Complete â”‚                    â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
```

### Payment Status Flow

```
PENDING â†’ COMPLETE (Thanh toÃ¡n thÃ nh cÃ´ng)
        â†’ CANCELLED (Há»§y bá»Ÿi user)
        â†’ FAILED (Lá»—i thanh toÃ¡n)
```

### API Usage

**Táº¡o Payment:**
```http
POST /api/Payment/create
{
  "orderId": 123,
  "returnUrl": "https://yourapp.com/payment/success",
  "cancelUrl": "https://yourapp.com/payment/cancel"
}
```

**Kiá»ƒm tra tráº¡ng thÃ¡i:**
```http
GET /api/Payment/check-status/{orderCode}
```

---

## ğŸ“Š Services Overview

| Service | Chá»©c nÄƒng chÃ­nh |
|---------|----------------|
| `UserAccountService` | ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, OTP, Google OAuth |
| `UserService` | CRUD users, profile management |
| `ProductService` | CRUD products, search, filter |
| `CartService` | Quáº£n lÃ½ giá» hÃ ng |
| `OrderService` | Táº¡o Ä‘Æ¡n hÃ ng tá»« cart |
| `PaymentService` | Quáº£n lÃ½ thanh toÃ¡n |
| `PayOsService` | TÃ­ch há»£p PayOS API |
| `PremiumService` | Quáº£n lÃ½ gÃ³i Premium |
| `OutfitService` | AI gá»£i Ã½ trang phá»¥c |
| `OutfitComboItemService` | Quáº£n lÃ½ items trong combo |
| `UserClosetService` | Tá»§ Ä‘á»“ cÃ¡ nhÃ¢n |
| `FeedbackService` | ÄÃ¡nh giÃ¡ sáº£n pháº©m |
| `CloudinaryService` | Upload/delete áº£nh |
| `EmailService` | Gá»­i email SMTP |
| `OpenRouterService` | Gá»i AI model |
| `VisitLogService` | Analytics, thá»‘ng kÃª |
| `CurrentUserService` | Láº¥y user tá»« JWT claims |

---

## ğŸ§ª Testing

### Swagger UI

Truy cáº­p Swagger Ä‘á»ƒ test API:
```
https://localhost:5001/swagger
```

### Test vá»›i JWT

1. ÄÄƒng nháº­p qua `/api/Auth/login`
2. Copy token tá»« response
3. Click "Authorize" trong Swagger
4. Nháº­p: `Bearer {your-token}`
5. Test cÃ¡c protected endpoints

---

## ğŸ“ Quy Æ°á»›c code

### Naming Conventions

| Loáº¡i | Convention | VÃ­ dá»¥ |
|------|------------|-------|
| Class | PascalCase | `ProductService` |
| Method | PascalCase | `GetAllProducts()` |
| Variable | camelCase | `productList` |
| Property | PascalCase | `ProductId` |
| Interface | IPascalCase | `IProductService` |
| DTO | PascalCase + Dto | `ProductResponseDto` |

### Project Structure Rules

- **Controllers**: Chá»‰ chá»©a routing vÃ  validation
- **Services**: Business logic
- **Repositories**: Data access
- **DTOs**: Data transfer, khÃ´ng chá»©a logic
- **Entities**: Domain models

---

## ğŸ¤ ÄÃ³ng gÃ³p

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

---

## ğŸ“„ License

Distributed under the MIT License. See `LICENSE` for more information.

---

## ğŸ“ LiÃªn há»‡

- **Project Link**: [https://github.com/your-username/Formale_EXE201](https://github.com/your-username/Formale_EXE201)

---

<div align="center">

**â­ Star repo nÃ y náº¿u báº¡n tháº¥y há»¯u Ã­ch! â­**

Made with â¤ï¸ by Formale Team

</div>